(this.webpackJsonpopennode=this.webpackJsonpopennode||[]).push([[0],{14:function(e,t,n){},15:function(e,t,n){},16:function(e,t,n){},18:function(e,t,n){},19:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),o=n(4),r=n.n(o),i=(n(14),n(5)),s=n(6),l=n(8),u=n(7),h=n.p+"static/media/logo.6ce24c58.svg",d=(n(15),n(16),n(0)),m=function(e){var t=e.placeHolder,n=e.handleChange;return Object(d.jsx)("input",{type:"number",placeholder:t,onChange:n})},p=n(3),j=n(9),b=(n(18),function(e){var t=e.children,n=e.isBlue,a=e.inverted,c=Object(j.a)(e,["children","isBlue","inverted"]);return Object(d.jsx)("button",Object(p.a)(Object(p.a)({className:"".concat(a?"inverted":""," ").concat(n?"isBlue":""," custom-button")},c),{},{children:t}))}),f=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(i.a)(this,n),(e=t.call(this)).state={sats:"",createInvoiceHeader:"",lnInvoice:"",lnUrlHeader:"",amount:""},e}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.getBalances()}},{key:"getBalances",value:function(){var e=this;fetch("https://api.opennode.com/v1/account/balance",{method:"GET",headers:{Accept:"application/json",Authorization:"89603cff-0df1-425c-8ee5-650aeac5c58d"}}).then((function(e){return e.json()})).then((function(t){return e.setState({sats:t.data.balance.BTC})})).catch((function(e){return console.error(e)}))}},{key:"createInvoice",value:function(){var e=this;""==this.state.amount&&this.setState({createInvoiceHeader:"Please enter an amount (in sats) first"});var t={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"6c659104-d755-4d82-9608-53b8a4894864"},body:JSON.stringify({order_id:"Merchant's internal order ID",ttl:1440,description:"",amount:this.state.amount,customer_email:"cworthen777@hotmail.com",currency:"BTC",min_amt:this.state.amount,max_amt:this.state.amount,callback_url:"https://example.com/webhook/opennode"})};fetch("https://api.opennode.com/v1/charges",t).then((function(e){return e.json()})).then((function(t){if(e.state.amount>0)return e.setState({lnInvoice:t.data.lightning_invoice.payreq}),e.setState({createInvoiceHeader:"Thanks for donating ".concat(e.state.amount," sat(s)")})})).catch((function(e){return console.error(e)}))}},{key:"lnUrlWithdrawal",value:function(){var e={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"3c17edf3-30e8-4ec7-a000-323bfc5fb611"},body:JSON.stringify({order_id:"Merchant's internal order ID",ttl:1440,description:"We are all Satoshi.",customer_email:"cworthen777@hotmail.com",currency:"BTC",min_amt:1,max_amt:1,callback_url:"https://example.com/webhook/opennode"})};fetch("https://api.opennode.com/v2/lnurl-withdrawal",e).then((function(e){return e.json()})).then((function(e){return window.open("".concat(e.data.uri),"_self")})).catch((function(e){return console.error(e)})),this.setState({lnUrlHeader:"Claim"})}},{key:"render",value:function(){var e=this,t=this.state,n=t.sats,a=t.createInvoiceHeader,c=t.lnInvoice;return Object(d.jsx)("div",{className:"App",children:Object(d.jsxs)("header",{className:"App-header",children:[Object(d.jsx)("img",{src:h,className:"App-logo",alt:"logo"}),Object(d.jsxs)("div",{style:{alignItems:"center",margin:20},children:[Object(d.jsx)("h3",{children:"LN Faucet contains "+n+" sats"}),Object(d.jsx)("div",{className:"buttons",children:Object(d.jsx)("button",{onClick:function(){return e.getBalances()},children:"Refresh Balance"})}),Object(d.jsx)("div",{className:"buttons",children:Object(d.jsx)(m,{placeHolder:"Amount (sats)",handleChange:function(t){return e.setState({amount:t.target.value})}})}),Object(d.jsx)("div",{className:"buttons",children:Object(d.jsx)("button",{onClick:function(){return e.createInvoice()},children:"Donate sats to faucet"})}),Object(d.jsx)("div",{className:"buttons",children:Object(d.jsx)(b,{onClick:function(){return e.lnUrlWithdrawal()},children:"Claim 1 sat!"})}),Object(d.jsx)("div",{style:{wordWrap:"break-word",marginTop:25,marginLeft:25,marginRight:25,color:"white"},children:a}),Object(d.jsx)("div",{style:{wordWrap:"break-word",marginTop:25,marginLeft:25,marginRight:25,color:"white"},children:c})]})]})})}}]),n}(a.Component),v=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,20)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,o=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),o(e),r(e)}))};r.a.render(Object(d.jsx)(c.a.StrictMode,{children:Object(d.jsx)(f,{})}),document.getElementById("root")),v()}},[[19,1,2]]]);
//# sourceMappingURL=main.045667b4.chunk.js.map